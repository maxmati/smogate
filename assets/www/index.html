<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/mapa.css" />
    <link rel="stylesheet" type="text/css" href="css/jquery.jqplot.css" />
    <script src="libs/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="libs/jquery.mobile.custom.min.js"></script>
    <script type="text/javascript" src="libs/jquery.jqplot.js"></script>

    <!-- <script type="text/javascript" src="gmap3/gmap3.min.js"></script> -->
    <link rel="stylesheet" type="text/css" href="css/history.css" />
    <!-- <script type="text/javascript" src="gmap3/gmap3.min.js"></script>
    <script src="http://maps.google.com/maps/api/js?sensor=false&language=pl"></script> -->
    <title>Smogathon</title>
    <script>
        $(document).ready(function () {
            /*$("#mapa").gmap3();
            $("#mapa").gmap3({
                map: {
                    options: {
                        disableDefaultUI: true,
                        center: [50.0487225, 19.9600163],
                        zoom: 2
                    }
                }
            })*/

            $("#btn2").tap(function () {
                $("#panel").toggleClass("wysun");
            })

            $("#content").swipeleft(function () {
                $("#panel").toggleClass("wysun");
            })

            $("#panel").swiperight(function () {
                $("#panel").toggleClass("wysun");
            })

            $("#btn1").tap(function () {
                $("#panel2").toggleClass("wysun2");
            })
            var dataset = [[[0, 0]]];
            var hour = 0;
            var myplot = $.jqplot('chartdiv',
                    dataset,
                    {
                        seriesColors: ["rgba(255, 255, 255, 1)"],
                        grid: {
                            background: 'rgba(57,57,57,0.0)',
                            drawBorder: false,
                            shadow: false,
                            gridLineColor: '#666666',
                            gridLineWidth: 2
                        },
                        seriesDefaults: {
                            rendererOptions: {
                                smooth: true,
                                animation: {
                                    show: true
                                }
                            },
                            showMarker: false
                        },
                        axesDefaults: {
                            rendererOptions: {
                                baselineWidth: 1.5,
                                baselineColor: '#ffffff',
                                drawBaseline: false
                            }
                        },
                        axes: {
                            xaxis: {
                                tickOptions: {
                                    formatString: "%'d",
                                    showMark: false,
                                    textColor: '#ffffff',
                                    fontSize: "15pt",
                                },
                                ticks: [0, 4, 8, 12, 16, 20, 24],
                                drawMajorGridlines: false,
                                pad: 1
                            },
                            yaxis: {
                                renderer: $.jqplot.LogAxisRenderer,
                                ticks: [0, 500, 1000, 1500, 2000],
                                // pad: 1,
                                rendererOptions: {
                                    minorTicks: 1
                                },
                                tickOptions: {
                                    formatString: "%'dµg",
                                    showMark: false,
                                    textColor: '#ffffff',
                                    fontSize: "15pt",
                                },
                                drawMajorGridlines: false
                            }
                        }
                    }
            );
            function addOne(dpoint) {
                dataset[0].push([hour, dpoint]);
                myplot.series[0].data = dataset[0];
                hour += 1;
                myplot.replot();
                
            }
            for (var i = 0; i < 24; i++) {
                addOne(Math.random()*2000);
            }
            var overlay = 0;
            setInterval(function(){
              overlay += Math.round(Math.random()*300);
              setCurrentAmount(overlay);
            }, 2000);
        })
    </script>
</head>
<body>
    <div id="content">

      <div id="main">
        <p id="dragon-warning">Dzisiaj jest bardzo zły dzień</p>
        <img class="dragon" src="img/dragon-colored.png"/>
        <div id="chartdiv"></div>
        <img id="dragon-overlay" class="dragon" src="img/dragon.png"/>

        <img id="background" src="img/Colour BackGround.png"/>
        <p id="amount_scale"> 1000µg</p>
        <img id="skala" src="img/div_timeline.png"/>
      </div>
      <div id="subwindow">
        <table id="wykres">
            <colgroup>
                <col />
                <col />
                <col />
                <col />
                <col />
            </colgroup>

            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table>
      </div>

        <div id="panel">
            <div id="header">
                <p>Trasa wycieczki</p>
            </div>

            <div id="body">

            </div>
        </div>

        <div id="panel2">
            <div id="header2">

            </div>

            <div id="body2">

            </div>
        </div>

        <div id="toolbar">
            <div id="btn0"><img id="stat" src="img/stat_color_icon_map.png"/><p style="color: white">Statystyki</p></div>
            <div id="btn1"><img id="hist" src="img/history_color_icon_map.png"/><p style="color: white">Historia</p></div>
            <div id="btn2"><img id="map" src="img/map_color_icon_map.png"/><p style="color: white">Mapa</p></div>
        </div>
    </div>
    <script type="text/javascript" src="js/data.js"></script>
    <script type="text/javascript" src="js/index.js"></script>

    <!--<script type="text/javascript" src="cordova.js"></script>-->
</body>
</html>
